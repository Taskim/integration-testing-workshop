{"version":3,"sources":["components/Loader.js","components/App.js","actions.js","container.js","api.js","sagas.js","reducers.js","store.js","index.js"],"names":["Loader","react_default","a","createElement","className","data-testid","App","adopt","_this","props","adoptCat","fetchCat","this","_this$props","status","cat","adoptedCats","alt","src","url","src_components_Loader","disabled","onClick","length","concat","map","key","id","Component","fetchCatSuccess","type","fetchCatFailure","error","connect","state","fetch","method","headers","Content-Type","x-api-key","then","response","json","fetchCatFlow","catWatcher","regenerator_default","wrap","_context","prev","next","call","sent","put","t0","stop","_marked","_context2","takeLatest","_marked2","initialState","undefined","reducer","arguments","action","Object","objectSpread","toConsumableArray","sagaMiddleware","createSagaMiddleware","store","createStore","reducers","composeWithDevTools","applyMiddleware","run","ReactDOM","render","es","container","document","getElementById"],"mappings":"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","file":"static/js/main.b995d42b.chunk.js","sourcesContent":["import React from 'react'\nimport './Loader.css'\n\nconst Loader = () => (\n    <div className=\"box\" data-testid=\"loader\">\n        <div className=\"cat\">\n            <div className=\"cat__body\" />\n            <div className=\"cat__body\" />\n            <div className=\"cat__tail\" />\n            <div className=\"cat__head\" />\n        </div>\n    </div>\n)\n\nexport default Loader\n","import React, { Component } from 'react'\nimport './App.css'\nimport Loader from './Loader.js'\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.fetchCat()\n    }\n\n    adopt = () => {\n        this.props.adoptCat()\n        this.props.fetchCat()\n    }\n    render() {\n        const { status, cat, fetchCat, adoptedCats } = this.props\n        return (\n            <div className=\"App\">\n                <div className=\"img-container\">\n                    {status === 'loaded' && cat && (\n                        <img\n                            alt=\"cat\"\n                            src={cat.url}\n                            data-testid=\"current-cat\"\n                        />\n                    )}\n                    {status === 'loading' && <Loader />}\n                </div>\n                <button\n                    disabled={status !== 'loaded'}\n                    className=\"cat-button\"\n                    onClick={this.adopt}\n                >\n                    Adopter ce chat\n                </button>\n                <button className=\"cat-button nope\" onClick={fetchCat}>\n                    Voir un autre chat\n                </button>\n                {adoptedCats.length > 0 && (\n                    <div className=\"adopted-cats-container\">\n                        <h1>{`Mes chats (${adoptedCats.length})`}</h1>\n                        <div className=\"adopted-cats\">\n                            {adoptedCats.map(cat => (\n                                <div key={cat.id} className=\"adopted-cat\">\n                                    <img alt=\"adopted-cat\" src={cat.url} />\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n            </div>\n        )\n    }\n}\n\nexport default App\n","export const fetchCatRequest = () => ({ type: 'FETCH_CAT_REQUEST' })\nexport const fetchCatSuccess = cat => ({ type: 'FETCH_CAT_SUCCESS', cat })\nexport const fetchCatFailure = error => ({ type: 'FETCH_CAT_FAILURE', error })\n\nexport const adoptCat = () => ({ type: 'ADOPT_CAT' })\n","import { connect } from 'react-redux'\nimport App from './components/App.js'\nimport { fetchCatRequest, adoptCat } from './actions'\n\nexport const mapStateToProps = state => ({\n    cat: state.cat,\n    status: state.status,\n    adoptedCats: state.adoptedCats,\n})\n\nexport default connect(\n    mapStateToProps,\n    { fetchCat: fetchCatRequest, adoptCat }\n)(App)\n","export function fetchCat() {\n    return fetch(\n        'https://api.thecatapi.com/v1/images/search?mime_types=gif&size=med',\n        {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'x-api-key': '2aae974e-1039-408d-aff1-d839557f017a',\n            },\n        }\n    ).then(response => response.json())\n}\n","import { takeLatest, call, put } from 'redux-saga/effects'\n\nimport { fetchCat } from './api'\nimport { fetchCatSuccess, fetchCatFailure } from './actions'\n\nexport function* fetchCatFlow() {\n    try {\n        const cat = yield call(fetchCat)\n        yield put(fetchCatSuccess(cat[0]))\n    } catch (e) {\n        yield put(fetchCatFailure(e))\n    }\n}\n\nexport function* catWatcher() {\n    yield takeLatest('FETCH_CAT_REQUEST', fetchCatFlow)\n}\n","const initialState = {\n    cat: undefined,\n    status: undefined,\n    adoptedCats: [],\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'FETCH_CAT_REQUEST':\n            return {\n                ...state,\n                status: 'loading',\n            }\n        case 'FETCH_CAT_SUCCESS':\n            return {\n                ...state,\n                cat: action.cat,\n                status: 'loaded',\n            }\n        case 'FETCH_CAT_FAILURE':\n            return {\n                ...state,\n                status: 'error',\n            }\n        case 'ADOPT_CAT':\n            return {\n                ...state,\n                adoptedCats: [...state.adoptedCats, state.cat],\n            }\n        default:\n            return state\n    }\n}\n\nexport default reducer\n","import { createStore, applyMiddleware } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { catWatcher } from './sagas'\nimport reducers from './reducers'\n\nexport const sagaMiddleware = createSagaMiddleware()\n\nexport const store = createStore(\n    reducers,\n    composeWithDevTools(applyMiddleware(sagaMiddleware))\n)\n\nsagaMiddleware.run(catWatcher)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport './index.css'\nimport Main from './container'\nimport { store } from './store'\n\nReactDOM.render(\n    <Provider store={store}>\n        <Main />\n    </Provider>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}